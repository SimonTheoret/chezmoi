source ~/.aliases

zoxide init fish | source


# Helix configuration
bind ctrl-z 'fg 2>/dev/null; commandline -f repaint'

{{ if eq .chezmoi.os "darwin"  }}
## Macos
fish_add_path /opt/homebrew/bin
{{end}}

# If not on nixos
{{if not (eq .chezmoi.hostname "nixos")}}
starship init fish | source

direnv hook fish | source

# Set up Fzf key bindings
fzf --fish | source

mcfly init fish | source

fish_add_path ~/bin/
fish_add_path ~/bin/nvim-linux-x86_64/bin/
fish_add_path ~/bin/nvim/bin/
fish_add_path ~/bin/emacs/bin/
fish_add_path ~/.cargo/bin/
fish_add_path ~/.local/bin/
fish_add_path /usr/local/go/bin
fish_add_path ~/go/bin

fish_add_path ~/go/bin
{{end}}

fish_add_path $HOME/.config/emacs/bin
fish_add_path $HOME/bin

# Fzf configuration
export FZF_CTRL_T_COMMAND='fd --type f --hidden --follow --exclude .git '
# export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
fzf_configure_bindings --directory=\cF

export BROWSER='firefox'
export EDITOR='hx'
export TERMINAL='alacritty'
export TERM='xterm'
export OLLAMA_API_BASE=http://127.0.0.1:11434
export MANPAGER="sh -c 'awk '\''{ gsub(/\x1B\[[0-9;]*m/, \"\", \$0); gsub(/.\x08/, \"\", \$0); print }'\'' | bat -p -lman'"

# Use bat for help
abbr -a --position anywhere -- --help '--help | bat -plhelp'
abbr -a --position anywhere -- -h '-h | bat -plhelp'

# Use vi key keybings in fish
fish_vi_key_bindings
# change the cursorâ€™s shape depending on the mode
fish_vi_cursor
# Set the normal and visual mode cursors to a block
set fish_cursor_default block
# Set the insert mode cursor to a line
set fish_cursor_insert line


{{if (and (eq .chezmoi.os "linux") (eq .chezmoi.username "stheoret") )}}
export LC_ALL=en_US.UTF-8
{{end}}


# Fast file finder
function ff
    fd --type f --hidden --follow --exclude .git | fzf --preview 'bat --style=numbers --color=always {}'
end

# Fast directory finder and cd
function fcd
    set dir (fd --type d --hidden --follow --exclude .git | fzf)
    if test -n "$dir"
        cd "$dir"
    end
end

# Find and edit files
function fe
    set file (fd --type f --hidden --follow --exclude .git | fzf --preview 'bat --style=numbers --color=always {}')
    if test -n "$file"
        $EDITOR "$file"
    end
end

# fish_config theme choose gruvbox
